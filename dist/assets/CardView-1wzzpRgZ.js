import{d as C,r as m,a as b,c as y,o as E,u as i,b as c,e as w,f as t,g as A,t as d,F as x,h as k,i as P,j as r,L as j,w as I}from"./index-g2Qc4xtS.js";const L=C("card",()=>{const u=m({id:0,name:"",height:0,weight:0,abilities:[],stats:[]}),o=m([{name:"",id:0}]),f=async a=>{try{u.value={id:0,name:"",height:0,weight:0,abilities:[],stats:[]};const s=`https://pokeapi.co/api/v2/pokemon/${a}`,l=await(await fetch(s)).json();u.value=l,console.log(u.value)}catch(s){console.error("Error fetching data:",s)}},_=async a=>{try{const s=`https://pokeapi.co/api/v2/pokemon-species/${a}`,n=(await(await fetch(s)).json()).evolution_chain.url,e=await(await fetch(n)).json();o.value=await g(e.chain)}catch(s){console.error("Error fetching data:",s)}},g=async a=>{const s=[],p=n=>{s.push(n.species.name),n.evolves_to.length>0&&p(n.evolves_to[0])};return p(a),await Promise.all(s.map(async n=>{const e=await(await fetch(`https://pokeapi.co/api/v2/pokemon/${n}`)).json();return{name:n,id:e.id}}))};return{info:u,evolution:o,fetchCard:f,fetchEvolution:_}}),U={key:0,class:"animate-pulse absolute inset-0 bg-sky-50 flex justify-center items-center text-2xl"},$={key:1,class:"pt-20 bg-sky-50 max-sm:pt-0 max-lg:px-5"},D={class:"flex justify-center max-sm:flex-col"},N={class:"-ms-40 w-50 max-lg:-ms-0"},R=["src"],V={class:"flex flex-col gap-4"},B={class:"font-bold text-6xl my-5"},H={class:"flex gap-20 bg-sky-100 p-5 rounded-lg"},M={class:"flex flex-col gap-5"},S=t("div",{class:"font-medium text-lg"},"Height:",-1),W={class:"text-xl"},F=t("div",{class:"font-medium text-lg"},"Weight:",-1),T={class:"text-xl"},q=t("div",{class:"font-medium text-lg"},"Abilities:",-1),z={class:"grid grid-cols-2 gap-5 bg-sky-100 p-5 rounded-lg"},G={class:"font-medium text-lg"},J={class:"text-xl"},K={class:"flex items-center flex-col py-20"},O=t("div",{class:"text-4xl font-bold"},"Evolution",-1),Q=t("div",{class:"flex"},null,-1),X={class:"flex gap-5 pt-10 max-lg:flex-col max-lg:gap-20"},Y=["src"],Z={class:"font-semibold text-lg py-2"},et=b({__name:"CardView",setup(u){const o=L(),f=y(()=>o.fetchCard),_=y(()=>o.fetchEvolution),g=()=>{setTimeout(()=>{location.reload()},100)},a=m(!1),s=m(!1);return E(async()=>{a.value=!0,s.value=!0;const l=window.location.pathname.split("/"),n=parseInt(l[l.length-2],10),v=l[l.length-1];await f.value(n).then(()=>a.value=!1).catch(e=>{console.error("Error fetching card:",e),a.value=!1}),await _.value(v).then(()=>s.value=!1).catch(e=>{console.error("Error fetching evolution:",e),s.value=!1})}),(l,n)=>{const v=P("router-link");return!i(o)||a.value||s.value?(r(),c("div",U,[w(j)])):(r(),c("div",$,[t("div",D,[t("div",N,[i(o).info?(r(),c("img",{key:0,src:`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/home/${i(o).info.id}.png`},null,8,R)):A("",!0)]),t("div",V,[t("div",B,d(i(o).info.name.charAt(0).toUpperCase()+i(o).info.name.slice(1)),1),t("div",H,[t("div",M,[t("div",null,[S,t("div",W,d(i(o).info.height),1)]),t("div",null,[F,t("div",T,d(i(o).info.weight),1)])]),t("div",null,[q,t("div",null,[(r(!0),c(x,null,k(i(o).info.abilities,(e,h)=>(r(),c("div",{class:"text-xl",key:h},d(e.ability.name.charAt(0).toUpperCase()+e.ability.name.slice(1)),1))),128))])])]),t("div",z,[(r(!0),c(x,null,k(i(o).info.stats,(e,h)=>(r(),c("div",{key:h},[t("div",G,d(e.stat.name.charAt(0).toUpperCase()+e.stat.name.slice(1))+": ",1),t("div",J,d(e.base_stat),1)]))),128))])])]),t("div",K,[O,Q,t("div",X,[(r(!0),c(x,null,k(i(o).evolution,(e,h)=>(r(),c("div",{class:"bg-sky-100 rounded-lg w-96 h-96 cursor-pointer hover:drop-shadow-md",key:h},[w(v,{to:"/card/"+e.id+"/"+e.name,onClick:g},{default:I(()=>[t("img",{src:`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/home/${e.id}.png`},null,8,Y)]),_:2},1032,["to"]),t("div",Z,d(e.name.charAt(0).toUpperCase()+e.name.slice(1)+"  "+(h+1)+" lvl"),1)]))),128))])])]))}}});export{et as default};
